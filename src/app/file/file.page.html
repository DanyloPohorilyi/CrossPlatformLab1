<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Лабораторна робота #3
    </ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <ion-title>Виконав студент КН-31, Погорілий Данило</ion-title>
  </ion-toolbar>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button menu="first" color="dark"></ion-menu-button>
    </ion-buttons>
    <ion-title>Лабораторні роботи</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Лабораторна робота №3</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-text color="secondary">
        <h1>Читання даних з файлу JSON</h1>
      </ion-text>

      <ion-item>
        <ion-label position="floating">Введіть максимальну кількість студентів</ion-label>
        <ion-input type="number" #maxStudentsInput></ion-input>
      </ion-item>

      <ion-button expand="block" (click)="load()">Завантажити</ion-button>

      <ion-item>
        <ion-list style="width: 100vw;">
          <ion-item button *ngFor="let item of data_groups; index as i" detail (click)="toggleDetails(i)">
            <ion-label *ngIf="!showDetails[i]" text-wrap>
              <p [ngStyle]="{'background-color': getColor(item.amount, maxStudentsInput.value)}">
                <span>Група: </span> {{ item.name }}
              </p>

            </ion-label>
            <br>
            <ion-text *ngIf="showDetails[i]">
              <h2>Курс:</h2> {{ item.course }}
              <h2>Староста:</h2> {{ item.monitor }}
              <h2>Кількість студентів:</h2> {{ item.amount }}
            </ion-text>
          </ion-item>
        </ion-list>
      </ion-item>
    </ion-card-content>
  </ion-card>
</ion-content>