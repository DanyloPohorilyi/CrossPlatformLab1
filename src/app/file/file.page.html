<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Лабораторна робота #3
    </ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <ion-title>Виконав студент КН-31, Погорілий Данило</ion-title>
  </ion-toolbar>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button menu="first" color="dark"></ion-menu-button>
    </ion-buttons>
    <ion-title>Лабораторні роботи</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Лабораторна робота №3</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-text color="secondary">
        <h1>Читання даних з файлу JSON</h1>
      </ion-text>

      <ion-item>
        <ion-label position="floating">Введіть максимальну кількість студентів</ion-label>
        <ion-input type="number" #maxStudentsInput></ion-input>
      </ion-item>

      <input type="file" (change)="readJson($event)">
      <ion-button expand="block" (click)="highlightGroupsByMaxStudents(maxStudentsInput.value)">Виділити</ion-button>

      <ion-list *ngIf="jsonData">
        <ng-container *ngFor="let group of getGroupValues()">
          <ion-item (click)="toggleExpanded(group)" [class.expanded]="group.expanded">
            <ion-label>{{ group[0].name }} - {{ group[0].amount }} students</ion-label>
          </ion-item>
          <ion-item *ngIf="group.expanded">
            <ion-label>Monitor: {{ group[0].monitor }}</ion-label>
            <ion-label>Course: {{ group[0].course }}</ion-label>
          </ion-item>
        </ng-container>
      </ion-list>

    </ion-card-content>
  </ion-card>
</ion-content>